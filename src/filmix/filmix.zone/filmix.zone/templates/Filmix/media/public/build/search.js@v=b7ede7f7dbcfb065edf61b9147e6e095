var search=function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/templates/Filmix/media/public/build/",s(s.s=43)}({11:function(t,e,s){"use strict";var a=s(6).slider;a.typeSlider="year",t.exports=function(){var t={countries:"c",categories:"g",years:"y",rip:"q",translation:"t",careers:"p"},e=["США","СССР","Россия","Украина","Великобритания"];$("body").on("click",".filter-category .title, .filter-category .ico-dots, .filter-category .items-more",(function(i){if($(".items-container").length>0&&$(".items-container").hasClass("open"))return $(".items-container").removeClass("open"),$(".container-main").removeClass("opened-filter"),!1;var o=$(this).closest(".filter-category").attr("data-id"),r=$("#main").attr("class"),n=$(this).closest(".filter-category").attr("data-type");if("items-more-category"!==o){var d=2e4,l=0;(r.indexOf("social")>=0||"user_info"===r)&&(r="social_users");var c="cat"===r?"/api/v2/category-filters":"/engine/ajax/get_filter.php",u="cat"===r?{type:n,fd:filter_data}:{scope:r,type:n};$("body").find("#"+o).find(".item").remove(),$.post(c,u,(function(i){switch($.each(i,(function(s,a){var i="years"==n||"careers"==n?s:s.substring(1);"countries"==n&&-1!=$.inArray(a,e)?$("body").find("#"+o+" .filter-article").append('<span class="item icon-close special" data-scope="'+t[n]+'" data-value="'+i+'">'+a+"</span>"):$("body").find("#"+o+" .filter-article").append('<span class="item icon-close" data-scope="'+t[n]+'" data-value="'+i+'">'+a+"</span>"),"years"==n&&(a>l&&(l=parseInt(a)),a<d&&(d=parseInt(a)))})),n){case"years":a.argSliderYear.min=d,a.argSliderYear.max=l,a.argSliderYear.values=[d,l],a.argSliderYear.stop=function(){!function(){var t="r",e=$("#slider-years").slider("values",0).toString()+$("#slider-years").slider("values",1).toString(),s=$("#slider-years").slider("values",0).toString()+"-"+$("#slider-years").slider("values",1).toString();window.setFilterHref(t,e,s)}();var t=$("#slider-years").slider("values",0),e=$("#slider-years").slider("values",1),s=t+"-"+e,a=t.toString()+e.toString();$('div[data-id="items-more-year"]').has(".year8").length>0&&$('div[data-id="items-more-year"]').find(".year8").remove(),$('div[data-id="items-more-year"]').find(".filter-item").remove(),$(".filter-section#items-more-year").find(".active").removeClass("active"),$('div[data-id="items-more-year"]').append('<span class="item active filter-item year8" data-scope="r" data-value="'+a+'">'+s+'<i class="close icon-close"></i></span>')},a.create("#slider-years")}d<2e4&&($("#items-more-year input#ot").attr("value",d).attr("data-min-year",d),$("#items-more-year input#do").attr("value",l).attr("data-max-year",l)),window.pageYOffset>$("#filtersForm").offset().top?$("body").find("#"+o).css("top",window.pageYOffset-$("#filtersForm").offset().top+15):$("body").find("#"+o).css("top","10px"),"random_movie"!=r&&"search"!=r&&s(t[n],o),$("body").find("#"+o).addClass("open").css("z-index","200").siblings(".items-container").removeClass("open").css("z-index","1"),$(".container-main").addClass("opened-filter")}),"json")}else"items-more-category"==o&&0==$("main").find(".all-users").length?s("s",o):"items-more-zodiac"==o&&0==$("main").find(".all-users").length&&s("z",o),window.pageYOffset>$("#filtersForm").offset().top?$("body").find("#"+o).css("top",window.pageYOffset-$("#filtersForm").offset().top+15):$("body").find("#"+o).css("top","10px"),$("body").find("#"+o).addClass("open").css("z-index","200").siblings(".items-container").removeClass("open").css("z-index","1"),$(".container-main").addClass("opened-filter");i.stopPropagation()}));var s=function(t,e){"y"==t?$.each(filter_data,(function(t,s){"y"==t?$.each(s,(function(t){$("body").find("#"+e+" .filter-article").find('.item[data-value="'+t+'"]').addClass("active")})):"r"==t&&$.each(s,(function(t){var e=window.Site.Slider;e.argSliderYear.values=[t.substring(0,4),t.substring(4,8)],e.create("#slider-years")}))})):$.each(filter_data,(function(s,a){s==t&&$.each(a,(function(t){$("body").find("#"+e+" .filter-article").find('.item[data-value="'+t+'"]').addClass("active")}))}))}}},4:function(t,e,s){"use strict";t.exports=function(){function t(){var t=$(".add-to-subs");t.has(".add-subs").length?t.hasClass("active")||t.addClass("active"):t.removeClass("active")}function e(){var t=$(".add-to-subs.opened");t.has(".add-subs").length?t.hasClass("active")||t.addClass("active"):t.removeClass("active")}function s(t){return new Promise((function(e,s){$.ajax({url:"/api/v2/subscriptions/post",data:t,type:"GET",dataType:"json",success:function(t){e(t)},error:function(t){s(t)}})}))}function a(t,e){var s=e.closest(".add-to-subs").find(".sub-list-item");$.each(t,(function(t,a){"vo"==t?e.find('.sub-item[data-id="voiceovers"]').addClass("add-subs"):"quality"==t?e.find('.sub-item[data-id="quality"]').addClass("add-subs"):"episode_vo"==t&&$.each(s,(function(t,e){var s=$(e).text();a.includes(s)&&$(e).addClass("add-subs")}))})),i()}function i(){var t=$(".list-container"),e=t.find(".sub-list-item"),s=t.find('.sub-item[data-id="episode"]');$.each(e,(function(a,i){var o=t.find(".sub-list-item.add-subs");$(i).hasClass("add-subs")?(s.addClass("add-subs-missed"),e.length===o.length&&s.addClass("add-subs").removeClass("add-subs-missed"),0!==e.length&&e.length!==o.length&&s.addClass("add-subs-missed")):(s.removeClass("add-subs-missed"),0!==o.length&&s.addClass("add-subs-missed"),0===o.length&&s.removeClass("add-subs").removeClass("add-subs-missed"))}))}$("html, body").on("click",(function(e){0===$(e.target).parents(".add-to-subs").length&&0===$(e.target).parents(".translations").length&&($(".fullstory:not(.playlist)").length&&t(),$(".add-to-subs").removeClass("opened"))})),$("body").on("click",'.sub-item[data-id="quality"].add-subs',(function(){$(this).removeClass("add-subs"),$(this).closest(".fullstory").length||e();var t={post_id:$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id"),remove:!0};$.post("/api/v2/subscribe/quality",t,(function(){common.showInfo("Вы отписались от выхода лучшего качества")}))})),$("body").on("click",'.sub-item[data-id="quality"]:not(".add-subs")',(function(){if(5===dle_group)return common.showInfo('<p>Вы не авторизованы для подписки на уведомления! <span class="guest href" data-action="authblock">Авторизуйтесь</span></p>',5e3),!1;$(this).addClass("add-subs"),$(this).closest(".fullstory").length||e();var t={post_id:$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id")};$.ajax({url:"/api/v2/subscribe/quality",data:t,type:"POST",dataType:"json",statusCode:{200:function(){common.showInfo("Вы подписаны на выход лучшего качества")}}})})),$("body").on("click",'.sub-item[data-id="voiceovers"].add-subs',(function(){$(this).removeClass("add-subs"),$(this).closest(".fullstory").length||e();var t={post_id:$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id"),remove:!0};$.post("/api/v2/subscribe/vo",t,(function(){common.showInfo("Вы отписались от выхода новых озвучек")}))})),$("body").on("click",'.sub-item[data-id="voiceovers"]:not(".add-subs")',(function(){if(5===dle_group)return common.showInfo('<p>Вы не авторизованы для подписки на уведомления! <span class="guest href" data-action="authblock">Авторизуйтесь</span></p>',5e3),!1;$(this).toggleClass("add-subs"),$(this).closest(".fullstory").length||e();var t={post_id:$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id")};$.ajax({url:"/api/v2/subscribe/vo",data:t,type:"POST",dataType:"json",statusCode:{200:function(){common.showInfo("Вы подписаны на выход новых озвучек")}}})})),$("body").on("click",'.sub-item[data-id="episode"].add-subs',(function(){$(this).removeClass("add-subs").removeClass("add-subs-missed"),$(this).closest(".list-container").find(".sub-list-item").removeClass("add-subs"),$(this).closest(".fullstory").length||e();var t={post_id:$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id"),remove:!0};$.post("/api/v2/subscribe/episode",t,(function(){common.showInfo("Вы отписались от выхода новых серий")}))})),$("body").on("click",'.sub-item[data-id="episode"]:not(".add-subs")',(function(){if(5===dle_group)return common.showInfo('<p>Вы не авторизованы для подписки на уведомления! <span class="guest href" data-action="authblock">Авторизуйтесь</span></p>',5e3),!1;$(this).addClass("add-subs").removeClass("add-subs-missed"),$(this).closest(".list-container").find(".sub-list-item").addClass("add-subs"),$(this).closest(".fullstory").length||e();var t={post_id:$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id")};$.ajax({url:"/api/v2/subscribe/episode",data:t,type:"POST",dataType:"json",statusCode:{200:function(){common.showInfo("Вы подписаны на выход новых серий")}}})})),$("body").on("click",".sub-list-item.add-subs",(function(){$(this).removeClass("add-subs"),$(this).closest(".fullstory").length||e();var t=$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id"),s=$(this).text(),a={post_id:t,vo:s,remove:!0};$.post("/api/v2/subscribe/vo-episode",a,(function(){common.showInfo("Вы отписались от выхода новых серий в озвучке "+s)})),i()})),$("body").on("click",'.sub-list-item:not(".add-subs")',(function(){if(5===dle_group)return common.showInfo('<p>Вы не авторизованы для подписки на уведомления! <span class="guest href" data-action="authblock">Авторизуйтесь</span></p>',5e3),!1;$(this).addClass("add-subs"),$(this).closest(".fullstory").length||e();var t=$(this).text(),s=$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id");(a={post_id:s,vo:t},new Promise((function(t,e){$.ajax({url:"/api/v2/subscribe/vo-episode",data:a,type:"POST",dataType:"json",success:function(e){t(e)},error:function(t){e(t)}})}))).then((function(e){common.showInfo("Вы подписаны на выход новых серий в озвучке "+t),i()}));var a})),$("body").on("click",".add-to-subs-toogle",(function(){if(5===dle_group)return common.showInfo('<p>Для подписки на уведомления - <span class="guest href" data-action="authblock">авторизуйтесь</span>! </p>',5e3),!1;var e={post_id:$(this).closest(".shortstory").attr("data-id")||$(".fullstory").attr("data-id")};if($(this).closest(".fullstory:not(.playlist)").length&&t(),$(this).closest(".add-to-subs").hasClass("opened"))$(this).closest(".add-to-subs").removeClass("opened");else{$(this).closest(".add-to-subs").addClass("opened");var o=$(this).closest(".add-to-subs").find(".list-container").attr("data-id"),r=$(this).closest(".add-to-subs").find(".sub-list-wrap"),n=$(".list-container");r.has(".sub-list-item").length?s(e).then((function(t){a(t,n)})).catch((function(t){console.error(t)})):(d=o,new Promise((function(t,e){$.ajax({url:"/api/v2/movie/p-links/"+d,type:"GET",dataType:"json",success:function(e){t(e)},error:function(t){e(t)}})}))).then((function(t){!function(t,e){$.each(t,(function(t,s){$.each(s,(function(t,s){"name"==t&&e.prepend('<li class="sub-list-item" data-id="vo-episode">'+s+"</li>")}))}))}(t,r)})).then((function(){s(e).then((function(t){a(t,n)})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))}i();var d}))}},43:function(t,e,s){"use strict";var a=s(11),i=s(6),o=s(4),r=i.slider;function n(t){$(this).toggleClass("open"),t.stopPropagation()}function d(t){$(".items-container").removeClass("open"),$(".container-main").removeClass("opened-filter")}function l(t){f($(this).attr("data-scope"),$(this).attr("data-value"))}function c(){var t=$(this).closest(".filter-item");f($(t).attr("data-scope"),$(t).attr("data-value"))}function u(){common.showInfo(" ,     !"),$("form").find("input[type=text]").val(""),$("form").find(".full .filter-item, .filter-category .filter-item").remove(),$(".no-item").show(),$(".items-container span.active").removeClass("active"),$(".sort > span").text(" "),$('input[type="checkbox"]').prop("checked",!1),r.typeSlider="year",r.argSliderYear.values=[$("#years-container #ot").attr("data-year-min"),$("#years-container #do").attr("data-year-max")],r.create("#slider-years"),r.typeSlider="rating",r.argSliderRating.values=[1,10],r.create("#slider-kpi"),r.create("#slider-imdb")}function f(t,e){var s=$('.item[data-value="'+e+'"][data-scope="'+t+'"]'),a=$(s).clone(),i=$(s).text(),o=$(s).closest(".filter-section").attr("id");$(s).toggleClass("active").find("i").toggleClass("ico-remove"),$('div[data-id="'+o+'"]').has(".filter-item:contains("+i+")").length>0?$('div[data-id="'+o+'"]').find(".filter-item:contains("+i+")").remove():(a.append('<i class="close"></i>'),a.removeClass("item").removeClass("icon-close").find(".close").addClass("ico-remove"),a.addClass("filter-item").appendTo('div[data-id="'+o+'"]'),$('div[data-id="'+o+'"] .no-item').hide()),0==$('div[data-id="'+o+'"]').find(".filter-item").length&&$('div[data-id="'+o+'"]').find(".no-item").show()}function p(){var t=$(this),e={id:$(this).attr("data-id")};$(this).hasClass("active")&&(e.remove=!0),$.post("/api/movies/blacklist",e,(function(e){common.showInfo(e.message),$(t).toggleClass("active")}),"json")}$(document).ready((function(){a(),o(),r.typeSlider="year";var t=parseInt($("#years-container #ot").val()),e=parseInt($("#years-container #do").val());r.argSliderYear.min=t,r.argSliderYear.max=e,r.argSliderYear.values=[t,e],r.create("#slider-years"),r.typeSlider="rating",r.create("#slider-kpi"),r.create("#slider-imdb"),$("html, body").on("click",(function(t){0==$(t.target).parents(".items-container").length&&($(".items-container").removeClass("open"),$(".container-main").removeClass("opened-filter"))})),$("#fullsearch").on("click",".sort",n),$(".container-items-header .ico-remove").on("click",d),$("body").on("click",".shortstory .add-to-bl",p),$("body").on("click",".items-container .item",l),$("#fullsearch").on("click",".ico-remove",c),$("#fullsearch").on("click",".reset",u),$("#years-container #ot, #years-container #do").on("keydown",(function(t){var e=t.keyCode;return $(this).val().length<4&&e>47&&e<58||(9==e||8==e||37==e||39==e||void t.preventDefault())})),$("#years-container #ot, #years-container #do").on("keyup",(function(t){if(4==$(this).val().length){r.typeSlider="year";var e=$(this).closest(".enter").find("#ot").val(),s=$(this).closest(".enter").find("#do").val();r.argSliderYear.values=[e,s],r.create("#slider-years")}})),$(".left #ot, .left #do, .right #ot, .right #do").on("keydown",(function(t){var e=t.keyCode;return $(this).val().length<4&&(e>47&&e<58||e>95&&e<106)||46==e||190==e||16==e||161==e||(9==e||8==e||37==e||39==e||void t.preventDefault())})),$(".left #ot, .left #do, .right #ot, .right #do").on("keyup",(function(t){var e=t.keyCode;if($(this).val().length<5&&$(this).val().length>0&&(e>47&&e<58||e>95&&e<106)){r.typeSlider="rating";var s=$(this).closest(".enter").find("#ot").val(),a=$(this).closest(".enter").find("#do").val();r.argSliderRating.values=[s,a],r.create("#slider-"+$(this).closest(".enter").attr("id"))}}))}))},6:function(t,e,s){"use strict";var a;t.exports.slider={typeSlider:"",argSliderYear:$.extend({range:!0,step:1,slide:function(t,e){$(this).parent().find("input#ot").val(e.values[0]),$(this).parent().find("input#do").val(e.values[1])}},a),argSliderRating:$.extend({range:!0,min:1,max:10.01,step:.01,values:[0,10],slide:function(t,e){$(this).parent().find("input#ot").val(e.values[0]),$(this).parent().find("input#do").val(e.values[1])}},a),create:function(t){"year"==this.typeSlider?$(t).slider(this.argSliderYear):"rating"==this.typeSlider&&$(t).slider(this.argSliderRating);var e=$(t).slider("values",0),s=$(t).slider("values",1);$(t).parent().find("input#ot").val(e),$(t).parent().find("input#do").val(s)}}}});